{"ast":null,"code":"import _slicedToArray from\"/Users/adavila/Documents/work/occam/dev/postgres_python/react-crud/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Option from\"../Option\";import comments from\"../../services/comments\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DeleteData=function DeleteData(_ref){var library=_ref.library;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),owner=_useState4[0],setOwner=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),important=_useState10[0],setImportant=_useState10[1];useEffect(function(){var tempId;// Get all notes to display ids in dropdown\ncomments.getAll(library).then(function(response){setData(response);if(response.length>0){tempId=response[0].id;setId(response[0].id);// Add value to input fields\nsetOwner(response[0].owner);setContent(response[0].content);setImportant(response[0].important==='t'?true:false);}}).catch(function(error){console.log(\"So you thought\",error);});},[]);var deleteData=function deleteData(event){event.preventDefault();comments.deleteComment(id,library).then(function(response){// Do something\nalert(\"Deleted item \".concat(id,\"!\"));// Update list of items\n});};var handleIdSelect=function handleIdSelect(event){setId(event.target.value);var selected=data.filter(function(element){return element.id===event.target.value;}).map(function(filteredElement){return filteredElement;});// Add value to input fields\nsetOwner(selected[0].owner);setContent(selected[0].content);setImportant(selected[0].important==='t'?true:false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"select\",{onChange:handleIdSelect,value:id,children:data.map(function(element){return/*#__PURE__*/_jsx(Option,{data:element},element.id);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:deleteData,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:owner,disabled:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Content:\"}),/*#__PURE__*/_jsx(\"input\",{value:content,disabled:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Important\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"Important\",checked:important===true,onChange:function onChange(){},disabled:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Delete\"})]})]});};export default DeleteData;","map":{"version":3,"names":["useEffect","useState","Option","comments","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DeleteData","_ref","library","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","owner","setOwner","_useState5","_useState6","content","setContent","_useState7","_useState8","data","setData","_useState9","_useState10","important","setImportant","tempId","getAll","then","response","length","catch","error","console","log","deleteData","event","preventDefault","deleteComment","alert","concat","handleIdSelect","target","value","selected","filter","element","map","filteredElement","children","onChange","onSubmit","disabled","type","checked"],"sources":["/Users/adavila/Documents/work/occam/dev/postgres_python/react-crud/src/components/manipulators/DeleteData.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Option from \"../Option\";\nimport comments from \"../../services/comments\";\n\nconst DeleteData = ({library} : any) => {\n    const [id, setId] = useState('');\n    const [owner, setOwner] = useState('');\n    const [content, setContent] = useState('');\n    const [data, setData] = useState<any[]>([])\n    const [important, setImportant] = useState(false);\n\n    useEffect(() => {\n        let tempId:string;\n        // Get all notes to display ids in dropdown\n        comments\n            .getAll(library)\n            .then(response => {\n                setData(response)\n                if (response.length > 0) {\n                    tempId = response[0].id\n                    setId(response[0].id)\n                    // Add value to input fields\n                    setOwner(response[0].owner)\n                    setContent(response[0].content)\n                    setImportant(response[0].important === 't' ? true : false)\n                } \n            })\n            .catch(error => {\n                console.log(\"So you thought\", error)\n            })\n\n    }, [])\n\n    const deleteData = (event : any) => {\n        event.preventDefault()\n        comments\n            .deleteComment(id, library)\n            .then(response => {\n                // Do something\n                alert(`Deleted item ${id}!`)\n                // Update list of items\n            })\n    }\n\n\n    const handleIdSelect = (event : any) => {\n        setId(event.target.value)\n        const selected = data.filter((element : any) => element.id === event.target.value).map((filteredElement) => filteredElement)\n\n        // Add value to input fields\n        setOwner(selected[0].owner)\n        setContent(selected[0].content)\n        setImportant(selected[0].important === 't' ? true : false)\n    }\n    \n    return (\n        <>\n            <select onChange={handleIdSelect} value={id}>\n                {data.map(element => {\n                    return <Option key={element.id} data={element} />\n                })}\n            </select>\n            <form onSubmit={deleteData}>\n                <p>Name</p>\n                <input\n                    value={owner}\n                    disabled\n                />\n                <br />\n                <p>Content:</p>\n                <input\n                    value={content}\n                    disabled\n                />\n                <br />\n                <br />\n                Important\n                <input\n                    type=\"radio\"\n                    value={\"Important\"}\n                    checked={important === true}\n                    onChange={() => {}}\n                    disabled\n                />\n                <button type=\"submit\">Delete</button>\n            </form>\n        </>\n    )\n}\n\nexport default DeleteData;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}